# HTTP

ν΄λΌμ΄μ–ΈνΈ-μ„λ²„ λ¨λΈμ„ λ”°λ¥΄λ” ν”„λ΅ν† μ½λ΅ TCP/IP μ„μ—μ„ λ™μ‘ν•λ©° well-known ν¬νΈμΈ 80λ² ν¬νΈλ¥Ό μ‚¬μ©ν•μ—¬ ν†µμ‹ ν•λ‹¤. μ²«λ²μ§Έ ν‘μ¤€μ€ HTTP/1.1μ΄λ©° μ΄ν›„λ΅ HTTP/2 λ° HTTP/3κ°€ λ“±μ¥ν•μ€λ‹¤. μ—¬κΈ°μ„  HTTP/1.1μ λ‚΄μ©μ„ μ •λ¦¬ν•λ‹¤.

## νΉμ§•

### λΉ„-μ—°κ²° μ§€ν–¥ (Connectionless)

ν΄λΌμ΄μ–ΈνΈκ°€ μ„λ²„μ—κ² λ¦¬μ†μ¤λ¥Ό μ”μ²­ν• ν›„ μ‘λ‹µμ„ λ°›μΌλ©΄ μ—°κ²°μ„ λμ–΄λ²„λ¦¬λ” νΉμ§•μ΄λ‹¤. μ—°κ²°μ„ μ μ§€ν•κ² λλ©΄ μ„λ²„μ— λ§μ€ λ¶€λ‹΄μ„ μ¤„ μ μκΈ° λ•λ¬Έμ— μƒλ‹Ήν λ§μ€ ν΄λΌμ΄μ–ΈνΈμ—κ² μ”μ²­μ„ λ°›λ” μ›Ή μ„λ²„μ κ²½μ° μ‘λ‹µμ„ μ²λ¦¬ν–μΌλ©΄ μ—°κ²°μ„ λλ”λ‹¤. μ΄λ΅ μΈν•΄ μ„λ²„μ λ¶€λ‹΄μ„ μ¤„μΌ μ μμ§€λ§, λ¦¬μ†μ¤λ¥Ό μ”μ²­ν•  λ•λ§λ‹¤ μ—°κ²°ν•΄μ•Ό ν•λ” μ¤λ²„ν—¤λ“ λΉ„μ©μ΄ λ°μƒν•λ‹¤. μ΄λ¥Ό ν•΄κ²°ν•κΈ° μ„ν•΄μ„ , μ”μ²­ ν—¤λ”μ `Connection: keep-alive` μ†μ„±μΌλ΅ μ§€μ†μ  μ—°κ²° μƒνƒ(Persistent connection)λ¥Ό μ μ§€ν•  μ μλ‹¤. μ¦‰, μ”μ²­μ„ ν•  λ•λ§λ‹¤ μ—°κ²°ν•μ§€ μ•κ³  κΈ°μ΅΄μ μ—°κ²°μ„ μ¬μ‚¬μ©ν•λ” λ°©μ‹μ΄λ‹¤. HTTP 1.1 λ¶€ν„΄ μ§€μ†μ  μ—°κ²° μƒνƒκ°€ κΈ°λ³Έμ΄λ©° μ΄λ¥Ό ν•΄μ ν•κΈ° μ„ν•΄μ„  λ…μ‹μ μΌλ΅ μ”μ²­ ν—¤λ”λ¥Ό μμ •ν•΄μ•Ό ν•λ‹¤.

### λ¬΄μƒνƒμ„± (Stateless)

κ°κ°μ μ”μ²­μ΄ λ…λ¦½μ μΌλ΅ μ—¬κ²¨μ§€λ” νΉμ§•μΌλ΅, μ„λ²„λ” ν΄λΌμ΄μ–ΈνΈμ μƒνƒλ¥Ό μ μ§€ν•μ§€ μ•λ”λ‹¤. μ¦‰, κ° ν΄λΌμ΄μ–ΈνΈμ— λ§κ² λ¦¬μ†μ¤λ¥Ό μ‘λ‹µν•λ” κ²ƒμ€ λ¶κ°€λ¥ν•λ‹¤. μ΄λ¥Ό ν•΄κ²°ν•κΈ° μ„ν•΄, μΏ ν‚¤λ‚ μ„Έμ… λλ” ν† ν° λ°©μ‹μ OAuth λ° JWTκ°€ μ‚¬μ©λλ‹¤.

<br>

## Method

ν΄λΌμ΄μ–ΈνΈκ°€ μ„λ²„μ— μ”μ²­λ°©λ²•μ„ μ •μν•λ” κ²ƒμΌλ΅ μ£Όμ–΄μ§„ λ¦¬μ†μ¤μ— μν–‰ν•κΈΈ μ›ν•λ” ν–‰λ™μ„ λ‚νƒ€λ‚Έλ‹¤.

* **GET** : μ„λ²„μ—κ² μ΅°νν•  λ¦¬μ†μ¤λ¥Ό μ”μ²­ν•λ‹¤. (READ, μ΅°ν)
* **POST** : μ„λ²„μ—κ² <u>λ³Έλ¬Έ(body)μ— μƒμ„±ν•  λ°μ΄ν„°λ¥Ό μ‚½μ…</u>ν•μ—¬ μ „μ†΅ν•λ‹¤. (CREATE, μƒμ„±)
* **PUT** : μ„λ²„μ—κ² <u>λ³Έλ¬Έμ— μμ •ν•  λ°μ΄ν„°λ¥Ό μ‚½μ…</u>ν•μ—¬ μ „μ†΅ν•λ‹¤. (UPDATE, μμ •)
* **DELETE** : μ„λ²„μ—κ² μ‚­μ ν•  λ¦¬μ†μ¤λ¥Ό μ”μ²­ν•λ‹¤. (DELETE, μ‚­μ )
* **PATCH** : PUTκ³Ό λΉ„μ·ν•μ§€λ§ μΌλ¶€λ§ μμ •ν•λ‹¤λ” μ μ—μ„ λ‹¤λ¥΄λ‹¤.

<br>

## μ‘λ‹µ μƒνƒμ½”λ“

μ„λ²„κ°€ ν΄λΌμ΄μ–ΈνΈμ—κ² μ”μ²­μ„ λ°›μΌλ©΄ μ‘λ‹µμƒνƒμ— λ”°λΌμ„ λ‹¤λ¥Έ μƒνƒμ½”λ“λ¥Ό ν΄λΌμ΄μ–ΈνΈμ—κ² λλ ¤μ¤€λ‹¤.

* **1xx (μ”μ²­μ— λ€ν• μ •λ³΄)** : μ”μ²­μ„ λ°›μ•μΌλ©΄ μ‘μ—…μ„ κ³„μ†ν•λ‹¤.
* **2xx (μ„±κ³µ)** : μ”μ²­μ„ μ„±κ³µμ μΌλ΅ μν–‰ν–λ‹¤.
  * 200(μ„±κ³µ), 201(μƒ λ¦¬μ†μ¤ μ‘μ„±), 202(μ”μ²­ μ ‘μ, μ•„μ§ μ²λ¦¬λ” μ•ν•¨)
* **3xx (λ¦¬λ‹¤μ΄λ ‰μ…)** : ν΄λΌμ΄μ–ΈνΈκ°€ μ”μ²­μ„ λ§μ§€κΈ° μ„ν•΄ μ¶”κ°€μ μΈ λ™μ‘μ„ μ·¨ν•΄μ•Ό ν•λ‹¤.
  * 300(μ—¬λ¬κ°μ μ‘λ‹µ, μ„ νƒν•΄μ•Ό ν•¨), 301(μκµ¬μ΄λ™, μ”μ²­ν• νμ΄μ§€κ°€ μκµ¬μ μΌλ΅ μ΄λ™λ¨), 302(μ„μ‹μ΄λ™, ν„μ¬ μ‘λ‹µμ‰ λ‹¤λ¥Έ νμ΄μ§€μ΄κΈ΄ ν•μ§€λ§ μ„μ‹μ μ„)
* **4xx (ν΄λΌμ΄μ–ΈνΈ μ¤λ¥)** : ν΄λΌμ΄μ–ΈνΈμ— μ¤λ¥κ°€ μλ‹¤.
  * 401(κ¶ν• μ—†μ), 403(κΈμ§€λ¨, λ¦¬μ†μ¤μ— λ€ν• κ¶ν• μ—†μ), 404(μ°Ύμ„ μ μ—†μ, μ„λ²„μ— μ—†λ” νμ΄μ§€)
* **5xx (μ„λ²„ μ¤λ¥)** : μ„λ²„μ— μ¤λ¥κ°€ μλ‹¤.
  * 500(λ‚΄λ¶€ μ„λ²„μ¤λ¥), 501(μ”μ²­μν–‰ κΈ°λ¥μ—†μ, λ©”μ„λ“ μΈμ‹λ¶κ°€), 503(μ„λΉ„μ¤ μ‚¬μ©λ¶κ°€)

<br>

## ν—¤λ”

μ”μ²­/μ‘λ‹µ ν—¤λ” λ° λ³Έλ¬Έ ν—¤λ” λ“± λ‹¤μ–‘ν• μ†μ„±λ“¤μ΄ μμ§€λ§ μ—¬κΈ°μ„  μ£Όμ”ν• μ†μ„±λ“¤λ§ λ…μ‹ν•λ‹¤.

### μ”μ²­ ν—¤λ”

* Host : μ„λ²„μ λ„λ©”μΈ μ΄λ¦„κ³Ό TCP ν¬νΈλ²νΈ (ν‘μ¤€ ν¬νΈλ” μƒλµ κ°€λ¥)

  * ```
    Host: en.wikipedia.org:8080
    ```

* Content-Type : POST/PUT λ©”μ„λ“λ¥Ό μ‚¬μ©ν•  λ• λ³Έλ¬Έμ νƒ€μ…

  * ```
    Content-Type: application/x-www-form-urlencoded
    ```

* If-Modified-Since : λ…μ‹ν• λ‚ μ§ μ΄ν›„λ΅ λ³€κ²½λ λ¦¬μ†μ¤λ§ νλ“

  * ```
    If-Modified-Since: Sat, 29 Oct 1994 19:43:31 GMT
    ```

* Origin : μ”μ²­μ΄ μ–΄λ λ„λ©”μΈμ—μ„ μ™”λ”μ§€ λ…μ‹, μ„λ²„μ `Access-Control-*` μ†μ„±μ— ν•„μ”

  * ```
    Origin: http://www.example-social-network.com
    ```

* Cookie : μ„λ²„μ `Set-Cookie` λ΅ μ„¤μ •λ μΏ ν‚¤ κ°’

  * ```
    Cookie: $Version=1; Skin=new;
    ```

### μ‘λ‹µ ν—¤λ”

* Access-Control-* : CORSλ¥Ό ν—μ©ν•κΈ° μ„ν• μ›Ήμ‚¬μ΄νΈ λ…μ‹

  * ```
    Access-Control-Allow-Origin: *
    ```

* Set-Cookie : ν΄λΌμ΄μ–ΈνΈμ— μΏ ν‚¤ μ„¤μ •

  * ```
    Set-Cookie: UserID=JohnDoe; Max-Age=3600; Version=1
    ```

* Last-Modified : μ”μ²­ν• λ¦¬μ†μ¤κ°€ λ§μ§€λ§‰μΌλ΅ λ³€κ²½λ μ‹κ°

  * ```
    Last-Modified: Tue, 15 Nov 1994 12:45:26 GMT
    ```

* Location : 3xx μƒνƒ μ½”λ“μΌ λ•, λ¦¬λ‹¤μ΄λ ‰μ… λλ” μ£Όμ†

  * ```
    Location: http://www.w3.org/pub/WWW/People.html
    ```

* Allow : μ”μ²­ν• λ¦¬μ†μ¤μ— λ€ν•΄ κ°€λ¥ν• λ©”μ„λ“λ“¤

  * ```
    Allow: GET, HEAD
    ```

<br>

## μ°Έκ³ 

* [MDN, HTTP μ”μ²­ λ©”μ„λ“](https://developer.mozilla.org/ko/docs/Web/HTTP/Methods)
* [μ„ν‚¤λ°±κ³Ό, HTTP μƒνƒ μ½”λ“](https://ko.wikipedia.org/wiki/HTTP_μƒνƒ_μ½”λ“)
* [Wikipedia, List of HTTP header fields](https://en.wikipedia.org/wiki/List_of_HTTP_header_fields)
* [π™[HTTP\] HTTP νΉμ„±(λΉ„μ—°κ²°μ„±, λ¬΄μƒνƒ)κ³Ό κµ¬μ„±μ”μ† κ·Έλ¦¬κ³  Restful APIπµ](https://victorydntmd.tistory.com/286)
* [[Network] HTTP ν—¤λ”μ μΆ…λ¥ λ° ν•­λ©](https://gmlwjd9405.github.io/2019/01/28/http-header-types.html)